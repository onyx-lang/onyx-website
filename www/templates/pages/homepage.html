{{ block "title" }}
    The Onyx Programming Language
{{ endblock }}

{{ let navbar_page = "home" }}

{{ block "page_content" }}

<div class="container">
    <div style="text-align: center;">
        <h1>The <b>Onyx</b> Programming Language</h1>
    </div>
    <div style="font-size: 20pt; text-align: center; margin-top: 8px">
        <p>A data-oriented, safe, and modern programming language</p>
    </div>
</div>

<div class="container light">
    <h2 style="margin-bottom: 8px">Recent News</h2>
</div>
{% partial "partials/news_listing" %}

<div class="container light">
    <h2>Overview</h2>
</div>

<div class="container">
    <div>
        <h2>Syntax</h2>
        <br />
        <p>Onyx uses a modernized C-like syntax, similar to Jai or Odin. Start learning the syntax from official <a href="https://docs.onyxlang.io/book">Language Reference Book</a>.</p>
    </div>

    <pre class="hljs"><code class="language-onyx">use core { printf, iter }

main :: () {
    for i: 1 .. 10 {
        fact := factorial(i);
        printf("{}! = {}\n", i, fact);
    }
}

factorial :: (n: i32) -> i32 {
    return iter.as_iter(1 .. n)
        |> iter.fold(1, (x, y) => x * y);
}
</code></pre>

</div>

<div class="container light">
    <div>
        <h2>Type Safety</h2>
        <br />
        <p>Onyx is <b>strictly</b> type-checked. However, the type-inference systems in Onyx usually allow you to omit types.</p>
    </div>

    <pre class="hljs"><code class="language-onyx">use core { printf }

main :: () {
    // Inferred variable type
    x := 10;

    // Function with entirely infered types.
    change_value :: x => x + 10;

    // Onyx figures out the types of `change_value` when you call it.
    printf("The value is {}.\n", change_value(x));
}
</code></pre>

</div>

<div class="container">
    <div>
        <h2>Compilation</h2>
        <br />
        <p>Onyx's compiler is written entirely in C and features incredibly fast compilation. The web-server for this website was compiled in <b>49 milliseconds</b>.</p>
    </div>

    <pre class="hljs"><code>$ onyx build -V ./src/app.onyx
File search path:
        /usr/share/onyx
        .

Type table size: 131244 bytes.
Foreign blocks size: 8 bytes.
Tagged procedure size: 504 bytes.
Tagged global size: 8 bytes.

Statistics:
    Time taken: 49.000000 ms
    Processed 20607 lines (420551.031250 lines/second).
    Processed 107338 tokens (2190571.500000 tokens/second)
</code></pre>
</div>

<div class="container light">
    <div>
        <h2>WebAssembly</h2>
        <br />
        <p>Onyx compiles solely to <a href="https://webassembly.org">WebAssembly</a>. You can use the builtin WebAssembly runtime using <code>onyx run</code>, or compile to WASM and run using a WebAssembly runner, like Wasmer or Wasmtime.</p>
    </div>

    <pre class="hljs"><code># Compile and run directly.
$ onyx run hello.onyx
Hello, World!

# This time target 'WASI'.
$ onyx build -r wasi -o hello.wasm hello.onyx

# Run using Wasmer.
$ wasmer run hello.wasm
Hello, World!
</code></pre>
</div>

<div class="container">
    <div>
        <h2>C-FFI</h2>
        <br />
        <p>Onyx features built-in support for linking to native C-libraries.</p>
    </div>

    <pre class="hljs"><code class="language-onyx">use core {*}

// Using #dyncall dynamically loads the library at runtime.
#foreign #dyncall "libc.so" {
    write :: (fd: i32, data: [&] u8, count: i32) -> i32 ---
}

main :: () {
    msg: [] u8 = "Hello, libc!";

    write(1, msg.data, msg.length);
}
    </code></pre>
</div>

</div>
</div>

<!-- <div class="container light">
    <h2 style="margin-bottom: 8px">Features</h2>

    <div class="panel-container">
        <div>
            <h3>Portable</h3>
            <p>By targetting WASM, Onyx can be used in the browser, or natively with a <a href="/news/ovmwasm">custom runtime</a>.</p>
        </div>
        <div>
            <h3>Data-Oriented</h3>
            <p>Ditch complicated classes and inheritance. Just focus on modeling the data for your application.</p>
        </div>
        <div>
            <h3>Extensible</h3>
            <p>With a C binding generation library, a useful C library is just one-step away.</p>
        </div>
        <div>
            <h3>Fun and Safe</h3>
            <p>Onyx enables programmer expressiveness, while making it easy to write bug-free code.</p>
        </div>
    </div>
</div> -->



{{endblock}}

{{extends "pages/normal_page"}}
